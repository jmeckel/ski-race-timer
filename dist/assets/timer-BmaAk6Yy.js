var W=Object.defineProperty;var O=(i,t,e)=>t in i?W(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var a=(i,t,e)=>O(i,typeof t!="symbol"?t+"":t,e);import{u as U,L as q,r as I,s as c,t as k,a3 as X,a4 as F,a5 as Y,o as u,a6 as K,c as y,k as Q,e as j,a7 as G,N as J,V,d as Z,f as _,p as tt,a8 as et,D as it,a9 as st,aa as nt,ab as at,ac as ot,ad as rt}from"./chief-judge-DtBsPpo-.js";import{m as w}from"./vendor-signals-BzS5ZRDx.js";class ct{constructor(t,e){a(this,"callbacks");a(this,"config");a(this,"rotation",0);a(this,"velocity",0);a(this,"accumulatedRotation",0);a(this,"spinAnimationId",null);a(this,"snapBackAnimationId",null);a(this,"snapBackTimeoutId",null);a(this,"visualTimeoutIds",new Set);a(this,"frameCount",0);a(this,"isDestroyed",!1);a(this,"prefersReducedMotion",!1);a(this,"motionMediaQuery",null);a(this,"onMotionPreferenceChange",t=>{this.prefersReducedMotion=t.matches,this.prefersReducedMotion&&(this.cancelAllAnimations(),this.rotation!==0&&(this.rotation=0,this.callbacks.onRotationUpdate(0),this.callbacks.onAnimationComplete()))});a(this,"spinWithMomentum",()=>{if(Math.abs(this.velocity)<.2){this.velocity=0,this.callbacks.onAnimationComplete(),this.scheduleSnapBack();return}this.rotation+=this.velocity,this.accumulatedRotation+=this.velocity,this.velocity*=this.config.friction,this.shouldSkipFrame()||this.callbacks.onRotationUpdate(this.rotation),this.checkDigitChange(),this.spinAnimationId=requestAnimationFrame(this.spinWithMomentum)});a(this,"snapBack",()=>{if(Math.abs(this.rotation)<1){this.rotation=0,this.callbacks.onRotationUpdate(this.rotation),this.snapBackAnimationId=null,this.callbacks.onAnimationComplete();return}this.rotation*=1-.15,this.shouldSkipFrame()||this.callbacks.onRotationUpdate(this.rotation),this.snapBackAnimationId=requestAnimationFrame(this.snapBack)});this.callbacks=t,this.config=e,typeof window<"u"&&window.matchMedia&&(this.motionMediaQuery=window.matchMedia("(prefers-reduced-motion: reduce)"),this.prefersReducedMotion=this.motionMediaQuery.matches,this.motionMediaQuery.addEventListener("change",this.onMotionPreferenceChange))}getRotation(){return this.rotation}getVelocity(){return this.velocity}onDragStart(){this.cancelAllAnimations(),this.velocity=0,this.accumulatedRotation=0}onDragMove(t,e){this.velocity=t/e*16*this.config.momentum,this.rotation+=t,this.accumulatedRotation+=t,this.callbacks.onRotationUpdate(this.rotation),this.checkDigitChange()}startMomentumSpin(){if(this.prefersReducedMotion){this.processDigitChangesInstantly(),this.velocity=0,this.rotation=0,this.callbacks.onRotationUpdate(0),this.callbacks.onAnimationComplete();return}this.spinWithMomentum()}onDragEndNoMomentum(){if(this.prefersReducedMotion){this.rotation=0,this.callbacks.onRotationUpdate(0),this.callbacks.onAnimationComplete();return}this.scheduleSnapBack()}pauseAnimations(){this.cancelAllAnimations()}flash(t,e){if(this.prefersReducedMotion)return;t==null||t.classList.add("flash"),e==null||e.querySelectorAll(".dial-number").forEach((n,o)=>{const d=window.setTimeout(()=>{this.visualTimeoutIds.delete(d),n.classList.add("flash");const h=window.setTimeout(()=>{n.classList.remove("flash"),this.visualTimeoutIds.delete(h)},200);this.visualTimeoutIds.add(h)},o*40);this.visualTimeoutIds.add(d)});const s=window.setTimeout(()=>{t==null||t.classList.remove("flash"),this.visualTimeoutIds.delete(s)},1200);this.visualTimeoutIds.add(s)}flashDigit(t){this.prefersReducedMotion||this.flashClass(t,"flash",150)}flashPressed(t){this.prefersReducedMotion||this.flashClass(t,"pressed",150)}destroy(){var t;if(!this.isDestroyed){this.isDestroyed=!0,this.cancelAllAnimations();for(const e of this.visualTimeoutIds)clearTimeout(e);this.visualTimeoutIds.clear(),(t=this.motionMediaQuery)==null||t.removeEventListener("change",this.onMotionPreferenceChange),this.motionMediaQuery=null}}processDigitChangesInstantly(){let t=this.velocity,e=this.accumulatedRotation;for(;Math.abs(t)>=.2;)for(e+=t,t*=this.config.friction;Math.abs(e)>=this.config.sensitivity;){const s=e>0?1:-1;this.callbacks.onDigitChange(s),e-=s*this.config.sensitivity}this.accumulatedRotation=e}cancelAllAnimations(){this.spinAnimationId&&(cancelAnimationFrame(this.spinAnimationId),this.spinAnimationId=null),this.snapBackAnimationId&&(cancelAnimationFrame(this.snapBackAnimationId),this.snapBackAnimationId=null),this.snapBackTimeoutId&&(clearTimeout(this.snapBackTimeoutId),this.snapBackTimeoutId=null)}flashClass(t,e,s){t.classList.add(e);const n=window.setTimeout(()=>{t.classList.remove(e),this.visualTimeoutIds.delete(n)},s);this.visualTimeoutIds.add(n)}shouldSkipFrame(){this.frameCount++;const t=U.getStatus().batteryLevel;return t==="low"?this.frameCount%2!==0:t==="critical"?this.frameCount%4!==0:!1}scheduleSnapBack(){this.snapBackTimeoutId&&clearTimeout(this.snapBackTimeoutId),this.snapBackTimeoutId=window.setTimeout(()=>{this.snapBack()},800)}checkDigitChange(){if(Math.abs(this.accumulatedRotation)>=this.config.sensitivity){const t=this.accumulatedRotation>0?1:-1;this.callbacks.onDigitChange(t),this.accumulatedRotation=this.accumulatedRotation%this.config.sensitivity}}}class lt{constructor(t,e){a(this,"container");a(this,"callbacks");a(this,"listeners",new q);a(this,"isDragging",!1);a(this,"lastAngle",0);a(this,"lastDragTime",0);a(this,"dragStartPos",null);a(this,"hasDraggedSignificantly",!1);a(this,"lastTouchTime",0);a(this,"isDestroyed",!1);a(this,"handleDragStart",t=>{const e="touches"in t;if(!e&&Date.now()-this.lastTouchTime<500)return;e&&(this.lastTouchTime=Date.now());const s=this.container.getBoundingClientRect(),n=e?t.touches[0].clientX:t.clientX,o=e?t.touches[0].clientY:t.clientY,d=s.left+s.width/2,h=s.top+s.height/2,f=Math.sqrt((n-d)**2+(o-h)**2);f<s.width*.27||f>s.width*.5||(this.callbacks.onDragStart(),this.dragStartPos={x:n,y:o},this.hasDraggedSignificantly=!1,this.isDragging=!0,this.lastAngle=this.getAngle(n,o,s),this.lastDragTime=Date.now())});a(this,"handleDragMove",t=>{if(!this.isDragging)return;const e="touches"in t?t.touches[0].clientX:t.clientX,s="touches"in t?t.touches[0].clientY:t.clientY;if(this.dragStartPos&&!this.hasDraggedSignificantly)if(Math.sqrt((e-this.dragStartPos.x)**2+(s-this.dragStartPos.y)**2)>10)this.hasDraggedSignificantly=!0;else return;t.preventDefault();const n=this.container.getBoundingClientRect(),o=this.getAngle(e,s,n);let d=o-this.lastAngle;d>180&&(d-=360),d<-180&&(d+=360);const h=Date.now(),f=Math.max(h-this.lastDragTime,1);this.callbacks.onDragMove(d,f),this.lastAngle=o,this.lastDragTime=h});a(this,"handleDragEnd",()=>{if(this.isDragging){if(this.isDragging=!1,!this.hasDraggedSignificantly&&this.dragStartPos){this.detectNumberTap(),this.dragStartPos=null,this.callbacks.onDragEndAsTap();return}this.dragStartPos=null,Math.abs(this.callbacks.getVelocity())>.5?this.callbacks.onDragEndWithMomentum():this.callbacks.onDragEndCommon()}});this.container=t,this.callbacks=e}bindEvents(){this.listeners.add(this.container,"mousedown",this.handleDragStart),this.listeners.add(window,"mousemove",this.handleDragMove),this.listeners.add(window,"mouseup",this.handleDragEnd),this.listeners.add(this.container,"touchstart",this.handleDragStart,{passive:!1}),this.listeners.add(window,"touchmove",this.handleDragMove,{passive:!1}),this.listeners.add(window,"touchend",this.handleDragEnd)}getDragState(){return{isDragging:this.isDragging,hasDraggedSignificantly:this.hasDraggedSignificantly}}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.listeners.removeAll())}detectNumberTap(){if(!this.dragStartPos)return;const t=this.container.getBoundingClientRect(),e=t.left+t.width/2,s=t.top+t.height/2;let n=Math.atan2(this.dragStartPos.y-s,this.dragStartPos.x-e)*(180/Math.PI);n-=this.callbacks.getRotation(),n=(n%360+360)%360;const o=[1,2,3,4,5,6,7,8,9,0];let d=0,h=360;o.forEach((f,g)=>{const l=(g*36-90+360)%360;let m=Math.abs(n-l);m>180&&(m=360-m),m<h&&m<20&&(h=m,d=f)}),h<20&&this.callbacks.onNumberTap(d)}getAngle(t,e,s){const n=s.left+s.width/2,o=s.top+s.height/2;return Math.atan2(e-o,t-n)*(180/Math.PI)}}class dt{constructor(t,e={}){a(this,"container");a(this,"dialNumbers",null);a(this,"dialRing",null);a(this,"options");a(this,"interaction",null);a(this,"animation");a(this,"resizeObserver",null);a(this,"lastContainerWidth",0);a(this,"numberKeydownListeners",new Map);a(this,"cachedNumberSpans",[]);a(this,"cachedNumberElements",new Map);a(this,"isDestroyed",!1);a(this,"visibilityHandler",null);a(this,"bibValue","");this.container=t,this.options={onChange:e.onChange||(()=>{}),momentum:e.momentum??1.5,friction:e.friction??.97,sensitivity:e.sensitivity??24},this.animation=new ct({onRotationUpdate:s=>this.updateDialRotation(s),onDigitChange:s=>this.adjustBib(s),onAnimationComplete:()=>{var s;return(s=this.dialNumbers)==null?void 0:s.classList.remove("momentum")}},{momentum:this.options.momentum,friction:this.options.friction,sensitivity:this.options.sensitivity}),this.init()}init(){if(this.dialNumbers=this.container.querySelector(".dial-numbers"),this.dialRing=this.container.querySelector(".dial-ring"),!this.dialNumbers){I.warn("[RadialDial] Required elements not found");return}this.generateDialNumbers(),this.generateTicks(),this.bindEvents()}generateDialNumbers(){if(!this.dialNumbers)return;this.dialNumbers.innerHTML="",this.cachedNumberSpans=[],this.cachedNumberElements.clear();const t=[1,2,3,4,5,6,7,8,9,0],e=this.container.offsetWidth||460,s=e*.38,n=e/2;t.forEach((o,d)=>{const h=(d*36-90)*(Math.PI/180),f=n+s*Math.cos(h),g=n+s*Math.sin(h),l=document.createElement("div");l.className="dial-number",l.dataset.num=String(o),l.innerHTML=`<span>${o}</span>`,l.style.left=`${f}px`,l.style.top=`${g}px`,l.style.transform="translate(-50%, -50%)";const m=c.getState().currentLang;l.setAttribute("tabindex","0"),l.setAttribute("role","button"),l.setAttribute("aria-label",`${k("numberLabel",m)} ${o}`);const p=M=>{const T=M;(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),this.handleNumberTap(o,l))};l.addEventListener("keydown",p),this.numberKeydownListeners.set(l,p),this.dialNumbers.appendChild(l);const b=l.querySelector("span");b&&this.cachedNumberSpans.push(b),this.cachedNumberElements.set(String(o),l)})}generateTicks(){const t=this.container.querySelector(".dial-ticks");if(t){t.innerHTML="";for(let e=0;e<60;e++){const s=document.createElement("div");s.className=`dial-tick${e%6===0?" major":""}`,s.style.transform=`rotate(${e*6}deg)`,t.appendChild(s)}}}handleNumberTap(t,e){this.bibValue.length<3&&(this.bibValue+=String(t),this.options.onChange(this.bibValue),X(),this.animation.flashPressed(e))}bindEvents(){this.interaction=new lt(this.container,{onDragStart:()=>{var t,e;this.animation.onDragStart(),(t=this.dialNumbers)==null||t.classList.remove("momentum"),(e=this.dialNumbers)==null||e.classList.add("momentum")},onNumberTap:t=>{var s;const e=(s=this.dialNumbers)==null?void 0:s.querySelector(`[data-num="${t}"]`);e&&this.handleNumberTap(t,e)},onDragMove:(t,e)=>{this.animation.onDragMove(t,e)},onDragEndWithMomentum:()=>{this.animation.startMomentumSpin()},onDragEndAsTap:()=>{var t;(t=this.dialNumbers)==null||t.classList.remove("momentum")},onDragEndCommon:()=>{var t;(t=this.dialNumbers)==null||t.classList.remove("momentum"),this.animation.onDragEndNoMomentum()},getRotation:()=>this.animation.getRotation(),getVelocity:()=>this.animation.getVelocity()}),this.interaction.bindEvents(),this.visibilityHandler=()=>{document.hidden&&this.animation.pauseAnimations()},document.addEventListener("visibilitychange",this.visibilityHandler),this.lastContainerWidth=this.container.offsetWidth,this.resizeObserver=new ResizeObserver(t=>{const e=t[0];if(!e)return;const s=Math.round(e.contentRect.width);s>0&&s!==this.lastContainerWidth&&(this.lastContainerWidth=s,this.generateDialNumbers())}),this.resizeObserver.observe(this.container)}adjustBib(t){let e=parseInt(this.bibValue||"0",10);e+=t,e<0&&(e=0),e>999&&(e=999),this.bibValue=String(e),this.options.onChange(this.bibValue),F();const s=String(e%10),n=this.cachedNumberElements.get(s);n&&this.animation.flashDigit(n)}updateDialRotation(t){if(!this.dialNumbers)return;this.dialNumbers.style.transform=`rotate(${t}deg)`;const e=`rotate(${-t}deg)`;for(const s of this.cachedNumberSpans)s.style.transform=e}getValue(){return this.bibValue}setValue(t){this.bibValue=t.slice(0,3)}clear(){this.bibValue=""}flash(){this.animation.flash(this.dialRing,this.dialNumbers)}destroy(){if(!this.isDestroyed){this.isDestroyed=!0,this.animation.destroy(),this.interaction&&(this.interaction.destroy(),this.interaction=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.visibilityHandler&&(document.removeEventListener("visibilitychange",this.visibilityHandler),this.visibilityHandler=null);for(const[t,e]of this.numberKeydownListeners)t.removeEventListener("keydown",e);this.numberKeydownListeners.clear()}}}function ut(i){const{bib:t,point:e,run:s,deviceId:n,deviceName:o,gpsService:d}=i,h=d.getTimeOffset();let f,g;h!==null?(f=new Date(Date.now()+h).toISOString(),g="gps"):(f=new Date().toISOString(),g="system");const l=d.getCoordinates(),m=d.getTimestamp()??void 0;return{entry:{id:Y(n),bib:t?t.padStart(3,"0"):"",point:e,run:s,timestamp:f,status:"ok",deviceId:n,deviceName:o,gpsCoords:l,timeSource:g,gpsTimestamp:m},timeSource:g}}function ht(i,t){return!!(i.bib&&t.some(e=>e.bib===i.bib&&e.point===i.point&&(e.run??1)===i.run))}const C=new q;let r=null,v=null,D=null,A=null,$=!1,P=[];function wt(){if(!u("dial-container")){I.debug("[RadialTimerView] Dial container not found, skipping init");return}if($){I.debug("[RadialTimerView] Already initialized");return}I.debug("[RadialTimerView] Initializing..."),mt(),ft(),gt(),pt(),bt(),yt(),vt(),N(),B(),x(),P=[w(()=>{st.value,N(),B()}),w(()=>{nt.value,at.value,B()}),w(()=>{c.$state.value.selectedPoint,R()}),w(()=>{c.$state.value.selectedRun,E()}),w(()=>{ot.value,x()}),w(()=>{rt.value,N()})],$=!0,I.debug("[RadialTimerView] Initialized successfully")}function mt(){D&&(D(),D=null),v&&(v.destroy(),v=null);const i=u("radial-time-hm"),t=u("radial-time-seconds"),e=u("radial-time-subseconds");let s=u("clock-container");s||(s=document.createElement("div"),s.id="clock-container",s.style.display="none",document.body.appendChild(s)),v=new K(s),D=v.onTick((g,l,m,p)=>{A||(i&&(i.textContent=`${g}:${l}`),t&&(t.textContent=m),e&&(e.textContent=p))});const n=new Date,o=String(n.getHours()).padStart(2,"0"),d=String(n.getMinutes()).padStart(2,"0"),h=String(n.getSeconds()).padStart(2,"0"),f=String(n.getMilliseconds()).padStart(3,"0");i&&(i.textContent=`${o}:${d}`),t&&(t.textContent=h),e&&(e.textContent=f),v.start()}function ft(){const i=u("dial-container");if(!i)return;r&&r.destroy(),r=new dt(i,{onChange:e=>{c.setBibInput(e),S(e)},momentum:1.5,friction:.97,sensitivity:24});const t=c.getState();t.bibInput&&(r.setValue(t.bibInput),S(t.bibInput))}function S(i){const t=u("radial-bib-value");if(!t)return;const e='<span class="radial-bib-cursor"></span>';if(!i)t.innerHTML=`---${e}`,t.classList.remove("active");else{const s=j(i.padStart(3,"0"));t.innerHTML=s+(i.length<3?e:""),t.classList.add("active")}}function gt(){const i=u("radial-timing-point");i&&(C.add(i,"click",t=>{const s=t.target.closest(".radial-point-btn");if(!s)return;const n=s.getAttribute("data-point");n&&(c.setSelectedPoint(n),y(),R())}),R())}function R(){const i=c.getState();document.querySelectorAll(".radial-point-btn").forEach(t=>{const e=t.getAttribute("data-point")===i.selectedPoint;t.classList.toggle("active",e),t.setAttribute("aria-checked",String(e))})}function pt(){const i=u("radial-run-selector");i&&(C.add(i,"click",t=>{const s=t.target.closest(".radial-run-btn");if(!s)return;const n=s.getAttribute("data-run");if(n){const o=parseInt(n,10);c.setSelectedRun(o),y(),E()}}),E())}function E(){const i=c.getState();document.querySelectorAll(".radial-run-btn").forEach(t=>{const s=t.getAttribute("data-run")===String(i.selectedRun);t.classList.toggle("active",s),t.setAttribute("aria-checked",String(s))})}function bt(){const i=u("radial-time-btn");i&&C.add(i,"click",H)}function yt(){const i=u("radial-clear-btn");i&&C.add(i,"click",()=>{r==null||r.clear(),c.setBibInput(""),S(""),y(),i.classList.add("flash"),setTimeout(()=>i.classList.remove("flash"),150)})}function vt(){C.add(document,"keydown",(i=>{var s;const t=(s=document.activeElement)==null?void 0:s.tagName,e=c.getState();if(!(t==="INPUT"||t==="TEXTAREA"||t==="SELECT")&&e.currentView==="timer"){if(/^[0-9]$/.test(i.key)){i.preventDefault();const n=e.bibInput;if(n.length<3){const o=n+i.key;c.setBibInput(o),r==null||r.setValue(o),S(o),y()}return}if(i.key==="Backspace"){i.preventDefault();const n=e.bibInput.slice(0,-1);c.setBibInput(n),r==null||r.setValue(n),S(n),y();return}if(i.key==="Delete"||i.key==="Escape"){i.preventDefault(),r==null||r.clear(),c.setBibInput(""),S(""),y();return}if(i.key==="s"||i.key==="S"){i.preventDefault(),c.setSelectedPoint("S"),y(),R();return}if(i.key==="f"||i.key==="F"){i.preventDefault(),c.setSelectedPoint("F"),y(),R();return}if(i.altKey&&(i.key==="1"||i.key==="2")){i.preventDefault();const n=i.key==="1"?1:2;c.setSelectedRun(n),y(),E();return}if(i.key===" "||i.key==="Enter"){i.preventDefault(),H();return}}}))}async function H(){const i=c.getState();if(i.isRecording)return;const{entry:t}=ut({bib:i.bibInput,point:i.selectedPoint,run:i.selectedRun,deviceId:i.deviceId,deviceName:i.deviceName,gpsService:et});c.setRecording(!0);try{i.settings.photoCapture&&G().then(async s=>{if(s)try{await J.savePhoto(t.id,s)&&c.updateEntry(t.id,{photo:"indexeddb"})}catch(n){V("Camera","photo save",n,"photoError")}}).catch(s=>{V("Camera","captureTimingPhoto",s,"photoError")});const e=ht(t,i.entries);if(c.addEntry(t),e?Z():_(),St(t),tt.broadcastEntry(t),i.settings.auto&&i.bibInput){const s=parseInt(i.bibInput,10)+1,n=i.settings.sync&&i.cloudHighestBib>0?Math.max(s,i.cloudHighestBib+1):s,o=String(n);c.setBibInput(o),r==null||r.setValue(o),S(o)}else i.bibInput&&!i.settings.auto&&(c.setBibInput(""),r==null||r.clear(),S(""));x()}finally{c.setRecording(!1)}}function St(i){const t=new Date(i.timestamp),e=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0"),o=String(t.getMilliseconds()).padStart(3,"0"),d=`${e}:${s}:${n}.${o}`;A=d;const h=u("radial-time-hm"),f=u("radial-time-seconds"),g=u("radial-time-subseconds");h&&(h.textContent=`${e}:${s}`),f&&(f.textContent=n),g&&(g.textContent=o);const l=u("dial-ring"),m=u("radial-time-display"),p=u("radial-time-btn");l==null||l.classList.add("flash"),m==null||m.classList.add("flash","frozen"),p==null||p.classList.add("flash"),r==null||r.flash();const b=u("radial-confirmation-overlay"),M=u("radial-confirm-bib"),T=u("radial-confirm-time"),L=u("radial-confirm-point");if(M&&(M.textContent=i.bib||"---"),T&&(T.textContent=d),L){const z=c.getState();L.textContent=it(i.point,z.currentLang),L.className=`radial-confirmation-point ${i.point==="S"?"start":"finish"}`}b==null||b.classList.add("show"),setTimeout(()=>{A=null,l==null||l.classList.remove("flash"),m==null||m.classList.remove("flash","frozen"),p==null||p.classList.remove("flash"),b==null||b.classList.remove("show")},1200)}function N(){const i=c.getState(),t=u("radial-gps-status");if(!t)return;const e=t.querySelector(".radial-status-dot");e&&(i.settings.gps?i.gpsStatus==="active"?e.className="radial-status-dot":i.gpsStatus==="searching"?e.className="radial-status-dot warning":e.className="radial-status-dot inactive":e.className="radial-status-dot inactive")}function B(){const i=c.getState(),t=u("radial-sync-status");if(!t)return;if(!i.settings.sync){t.style.display="none";return}t.style.display="flex";const e=t.querySelector(".radial-status-dot"),s=t.querySelector(".radial-sync-text");if(e&&(i.syncStatus==="connected"?e.className="radial-status-dot":i.syncStatus==="error"?e.className="radial-status-dot error":e.className="radial-status-dot warning"),s){const n=i.cloudDeviceCount||0,o=i.currentLang;s.textContent=n>0?`${k("synced",o)} (${n})`:k("syncingStatus",o)}}function x(){const i=c.getState(),t=i.entries,e=u("radial-stats-count");if(e&&(e.textContent=`${t.length} ${t.length===1?k("entry",i.currentLang):k("entries",i.currentLang)}`),t.length>0){const s=t[t.length-1],n=u("radial-last-bib"),o=u("radial-last-point"),d=u("radial-last-time");if(n&&(n.textContent=s.bib||"---"),o&&(o.textContent=s.point==="S"?k("startShort",i.currentLang):k("finishShort",i.currentLang),o.className=`radial-stats-point ${s.point==="S"?"start":"finish"}`),d){const h=new Date(s.timestamp);d.textContent=Q(h)}}}function Ct(){for(const i of P)i();P=[],D&&(D(),D=null),v&&(v.destroy(),v=null),C.removeAll(),r&&(r.destroy(),r=null),A=null,$=!1}function It(){const i=c.getState();S(i.bibInput),r==null||r.setValue(i.bibInput)}function Rt(){const i=document.querySelector(".timer-view");return(i==null?void 0:i.classList.contains("radial-mode"))??!1}export{Rt as a,wt as b,ut as c,Ct as d,ht as i,It as u};
